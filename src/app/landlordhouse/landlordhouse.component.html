<app-navbar></app-navbar>
<div>
    <img src="/assets/img/houselandlord.jpg" class="img-fluid" alt="Responsive image">
</div>
<div class="container">
    <div class="row">
        <div class="search-container col-4 p-2">
        <form class="m-0">
            <input class="shadow mt-2" type="text" [(ngModel)]="filter" placeholder="Search.." name="search">
            <button type="submit" (click)="search()"><i class="fa fa-search"></i></button>
        </form>
        </div>
        <div class="col text-right p-2"> 
          <button class="btn btn-slm" (click)="onCreate()">Create a new house</button>
      </div>
    </div>
    <div class="row mt-2 houses" *ngFor="let house of houses;">
      <div class="col-4 p-2">
            <img src="/assets/img/house-example.png" alt="house-example" class="img-thumbnail">
      </div>
      <div class="col-4 p-2" *ngIf="!edit">
          <div class="row p-1">
           <span>Name: {{house.name}} </span>   
          </div>
          <div class="row p-1">
            <span>Address: {{house.address}} </span> 
          </div>
      </div>

      <div class="col-4 p-2" *ngIf="edit">
        <form>
          <div class="form-group">
            <label for="houseName">User name</label>
            <input id="houseName" name="houseName" class="form-control edit-form" required
                [(ngModel)]="house.name" #myHouseName="ngModel" >
           
            <div [hidden]="myHouseName.valid" class="alert alert-danger">
              House name is required
            </div>
      </div>
      
          <div class="form-group">
            <label for="address">Address</label>
            <input id="address" name="address" class="form-control edit-form" required
              [(ngModel)]="house.address" #myHouseAddress="ngModel" >    
              <div [hidden]="myHouseAddress.valid" class="alert alert-danger">
                  Address is required
                </div>
            </div>  
            <div class="col text-center">
          <button [disabled]="!myHouseName.valid || !myHouseAddress.valid" type="submit" class="btn btn-success" (click)="createHouse(house)">Submit</button>
            </div>
          </form> 

      </div>

      

      <div class="col text-right p-2"> 
            <div class="btn-group">
                    <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      Action
                    </button>
                    <div class="dropdown-menu">
                      <button class="dropdown-item" (click)="onEdit(house)">Edit a house</button>
                      <button class="dropdown-item" (click)="onDelete(house)">Delete</button>
                  </div>
      </div>
      <div>
      </div>
    </div>
</div>

